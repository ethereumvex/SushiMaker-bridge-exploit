const { assert } = require("chai");

describe("Exploit", function() {
  it("should run", async function() {
    const Exploit = await ethers.getContractFactory("Exploit");
    const exploit = await Exploit.deploy();
    const impersonate = "0xb1adceddb2941033a090dd166a462fe1c2029484";
    await network.provider.request({
      method: "hardhat_impersonateAccount",
      params: [impersonate]}
    )
    const signer = await ethers.provider.getSigner(impersonate);
    await exploit.deployed();
    console.log(exploit.address);

    const gimmeEth = ethers.utils.parseUnits('2', "ether");
    await signer.sendTransaction({ to: exploit.address, gasPrice: 100, value: gimmeEth});

    await exploit.run();
    //await exploit.run();
    //await exploit.run();
 
  });
});
